<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.tangerineSpecter.oms.system.mapper.SystemUserMapper">
	<resultMap id="BaseResultMap"
		type="com.tangerineSpecter.oms.system.domain.SystemUser">
		<id column="id" property="id" jdbcType="BIGINT" />
		<result column="username" property="userName" jdbcType="VARCHAR" />
		<result column="password" property="password" jdbcType="VARCHAR" />
		<result column="nick_name" property="nickName" jdbcType="VARCHAR" />
		<result column="phone_number" property="phoneNumber" jdbcType="VARCHAR" />
		<result column="city" property="city" jdbcType="VARCHAR" />
		<result column="create_time" property="createTime" jdbcType="VARCHAR" />
		<result column="update_time" property="updateTime" jdbcType="VARCHAR" />
		<result column="admin" property="admin" jdbcType="TINYINT" />
		<result column="is_del" property="isDel" jdbcType="TINYINT" />
	</resultMap>
	<delete id="deleteByPrimaryKey" parameterType="java.lang.Long">
		delete from
		system_user
		where id = #{id}
	</delete>
	<insert id="insert" parameterType="com.tangerineSpecter.oms.system.domain.SystemUser"
		useGeneratedKeys="true" keyProperty="id">
		insert into system_user (username,
		nick_name, password,
		phone_number, create_time, update_time,
		admin)
		values (#{userName}, #{nickName},
		#{password},
		#{phoneNumber},
		#{createTime}, #{updateTime},
		#{admin})
	</insert>
	<update id="updateByPrimaryKey" parameterType="com.tangerineSpecter.oms.system.domain.SystemUser">
		update system_user
		set username = #{userName},
		nick_name = #{nickName},
		password =
		#{password},
		phone_number = #{phoneNumber},
		create_time = #{createTime},
		update_time = #{updateTime},
		admin = #{admin}
		where id = #{id}
	</update>
	<select id="selectByPrimaryKey" resultMap="BaseResultMap"
		parameterType="java.lang.Long">
		select id, username, nick_name, phone_number,
		create_time,city,
		update_time,
		admin
		from system_user
		where id = #{id}
	</select>
	<select id="selectAll" resultMap="BaseResultMap">
		select id, username, nick_name,
		phone_number, create_time,city,
		update_time,
		admin,is_del
		from
		system_user
	</select>
	<select id="getUserByLogin" resultMap="BaseResultMap">
		select *
		from system_user
		where username = #{username}
		and password = #{password}
	</select>
	<insert id="createUserByRegister" parameterType="com.tangerineSpecter.oms.system.domain.SystemUser"
		useGeneratedKeys="true" keyProperty="id">
		insert into system_user (username,
		password,create_time)
		values (#{userName}, #{password}, #{createTime})
	</insert>
	<select id="getUserByUserName" resultMap="BaseResultMap">
		select *
		from
		system_user
		where username = #{username}
	</select>
	<select id="queryForPage" resultMap="BaseResultMap">
		select id, username,
		nick_name,
		phone_number, create_time,city,
		update_time,
		admin,is_del
		from
		system_user
		<if test="page!=null">
			limit #{start},#{size}
		</if>
	</select>
	<select id="queryForPageCount" resultType="java.lang.Long">
		select Count(*) from
		system_user
	</select>
</mapper>